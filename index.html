<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>React Demo Hello world</title>
        <script src="./node_modules/react/umd/react.development.js"></script>
        <script src="./node_modules/react-dom/umd/react-dom.development.js"></script>
        <script src="./node_modules/babel-standalone/babel.min.js"></script>
        <style type="text/css" media="all">
.red {
    color:red;
}
        </style>
    </head>
    <body>
        <div id="app">
            <script type="text/babel">
                // 组件的首字母必须大写 不然会报错
                function Login(props){
                    return <button onClick={props.updateUser}>Login</button>
                }
                function Logout(props){
                    return <button onClick={props.updateUser}>Logout</button>
                }
                class App extends React.Component{
                // 两种方式来初始化状态
                // 第一种通过构造器(较麻烦)
                //constructor(props){
                //    console.log('初始化阶段');
                //    // 初始化 props
                //    super(props);
                //    // 初始化 state
                //    this.state = {
                //        isLogin: false
                //    }
                //}

                //第二种 直接声明 state 来初始化状态
                state = {
                    isLogin: false
                }

                // React 中标准对象函数的写法
                updateUser = () => {
                    // 错误语法(不会去调用render)
                    // this.state.name == 'GoodMan';
                    this.setState({
                        isLogin:!this.state.isLogin,
                    })
                }
                render(){
                    const isLogin = this.state.isLogin;
                    let button;
                    // 也可以在下方 JSX 中使用三元表达式
                    //if (isLogin){
                    //    button = <Logout/>
                    //} else {
                    //    button = <Login/>
                    //}
                    // 子组件触发父组件方法需要给JSX中子组件添加指向父节点方法的属性,然后子组件中继承props并添加事件call对应方法
                    console.log('组件加载或者数据更新')
                return <div>
                    <h1>Hello,{this.state.name}</h1>
                    <p>Age: {this.state.age}</p>
                    <p>Hobby: {this.state.hobby}</p>
                    {isLogin?<Logout updateUser={this.updateUser}/>:<Login updateUser={this.updateUser}/>}
                </div>
                }
                }
                ReactDOM.render(
                <App/>
                                    ,document.getElementById('app'));
            </script>
        </div>
    </body>
</html>
